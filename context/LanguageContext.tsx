import React, { createContext, useState, useContext, ReactNode, useEffect, useCallback } from 'react';

type Language = 'en' | 'pt';

interface LanguageContextType {
    language: Language;
    setLanguage: (language: Language) => void;
    t: (key: string, replacements?: { [key: string]: string }) => string;
}

const translations: { [lang in Language]: { [key: string]: string } } = {
  en: {
    title: "Flags of the World Explorer",
    headerTitle: "Flags of the World",
    explorer: "Explorer",
    exploreTitle: "Flag of the Day",
    exploreSubtitle: "Discover the stories, symbols, and colors behind the flags of nations. Use the filters below to navigate through the rich tapestry of global heraldry.",
    searchPlaceholder: "Search by country name...",
    fetchError: "Failed to fetch country data. Please try again later.",
    errorOops: "Oops! Something went wrong.",
    noResults: "No flags match your search criteria.",
    noFlagsFound: "No Flags Found",
    noFlagsFoundDescription: "Try adjusting your search or filter to find what you're looking for.",
    viewDetailsFor: "View details for {{countryName}}",
    closeModal: "Close modal",
    continents: "Continent(s)",
    capital: "Capital",
    population: "Population",
    area: "Area",
    areaUnit: "km²",
    coatOfArms: "Coat of Arms",
    viewOnMap: "View on Google Maps",
    goToTop: "Go to top",
    footerRights: `© ${new Date().getFullYear()} Flags of the World Explorer. All rights reserved.`,
    footerBuiltWith: "Built with React & Tailwind CSS | Data from REST Countries API",
    showingFlags: "Showing {{count}} of {{total}} flags",
    loadingFlags: "Loading flags from around the globe...",
    startQuiz: "Start Quiz",
    quizTitle: "Quiz",
    questionOf: "Question {{current}} of {{total}}",
    whichCountry: "Which country's flag is this?",
    whichFlag: "Which flag belongs to {{country}}?",
    nextQuestion: "Next Question",
    quizResults: "Quiz Results",
    yourScore: "You scored {{score}} out of {{total}}",
    playAgain: "Play Again",
    backToExplorer: "Back to Explorer",
    scoreFeedbackExcellent: "Excellent! You're a flag expert!",
    scoreFeedbackGood: "Good job! You know your flags well.",
    scoreFeedbackAverage: "Not bad! A little more practice and you'll be an expert.",
    scoreFeedbackPoor: "Keep practicing! The world of flags is fascinating.",
    discoverTitle: "Discover",
    discoverLoading: "Curating a new collection for you...",
    flagOfTheDay: "Flag of the Day",
    flagOfTheDayLoading: "Selecting today's featured flag...",
    filterAndSearch: "Filter & Search",
    filterByContinent: "Filter by Continent",
    quizSetupTitle: "Quiz Setup",
    chooseMode: "Choose a Game Mode",
    selectDifficulty: "Select Difficulty",
    difficultyEasy: "Easy",
    difficultyMedium: "Medium",
    difficultyHard: "Hard",
    difficultyEasyDesc: "Most populous countries.",
    difficultyMediumDesc: "A mix of all countries.",
    difficultyHardDesc: "Lesser-known countries.",
    modeFlagToCountry: "Flag ➞ Country",
    modeFlagToCountryDesc: "Guess the country from its flag.",
    modeCountryToFlag: "Country ➞ Flag",
    modeCountryToFlagDesc: "Find the correct flag for the country.",
    modeFlagToCapital: "Flag ➞ Capital",
    modeFlagToCapitalDesc: "Identify the capital from the flag.",
    modeCountryToCapital: "Country ➞ Capital",
    modeCountryToCapitalDesc: "Guess the capital of the country.",
    whichCapitalForCountry: "What is the capital of {{country}}?",
    modeShapeToCountry: "Coat of Arms ➞ Country",
    modeShapeToCountryDesc: "Recognize the country by its coat of arms.",
    whichCapital: "Which capital city does this flag belong to?",
    whichCoatOfArms: "Which country's coat of arms is this?",
    backToMenu: "Back to Menu",
    quizTime: "Total Time",
    quizAvgTime: "Avg. Time / Q",
    quizSeconds: "{{seconds}}s",
    compareMode: "Compare Mode",
    compareModeTooltip: "Toggle to select two flags for comparison",
    exitCompareMode: "Exit Compare Mode",
    selectForComparison: "Select {{countryName}} for comparison",
    compareFlags: "Compare ({{count}}/2)",
    clearSelection: "Clear",
    comparisonTitle: "Flag Comparison",
    favorites: "Favorites",
    noFavorites: "No favorites yet!",
    noFavoritesDescription: "Click the heart on any flag to add it to your collection.",
    addToFavorites: "Add to favorites",
    removeFromFavorites: "Remove from favorites",
    addedToFavoritesToast: "{{countryName}} added to favorites!",
    removedFromFavoritesToast: "{{countryName}} removed from favorites.",
    toggleTheme: "Toggle theme",
    continentTab: "Continents",
    toolsTab: "Tools",
    quizStreak: "🔥 {{count}} Streak",
    quizHint: "Hint ({{count}} left)",
    quizNoHints: "No hints left",
    quizReviewAnswers: "Review Answers",
    quizBackToSummary: "Back to Summary",
    quizReviewTitle: "Quiz Review",
    quizYourAnswer: "Your answer:",
    quizCorrectAnswer: "Correct answer:",
    continentHint: "Hint: The country is in {{continent}}.",
    quizBestStreak: "Best Streak",
    quizAccuracy: "Accuracy",
    quizRank: "Your Rank",
    rankNovice: "Flag Novice",
    rankApprentice: "Flag Apprentice",
    rankAdept: "Vexillology Adept",
    rankExpert: "Flag Expert",
    rankMaster: "Geography Genius",
    quiz5050Hint: "50:50 ({{count}} left)",
    quizNo5050Hints: "No 50:50s left",
    quizCorrect: "Correct",
    quizIncorrect: "Incorrect",
    sortBy: "Sort by",
    sortNameAsc: "Name (A-Z)",
    sortNameDesc: "Name (Z-A)",
    sortPopAsc: "Population (Low-High)",
    sortPopDesc: "Population (High-Low)",
    sortAreaAsc: "Area (Low-High)",
    sortAreaDesc: "Area (High-Low)",
    selectACountry: "Select a Country",
    discoverIntro: "Dive deeper into the world of vexillology. Explore common themes, unique designs, and the rich symbolism embedded in the world's flags.",
    uniqueFlags: "Unique Flags",
    uniqueFlagOfTheDayTitle: "Unique Flag of the Day",
    nepalFlag: "Nepal",
    nepalFlagDesc: "The only non-quadrilateral national flag in the world.",
    switzerlandFlag: "Switzerland",
    switzerlandFlagDesc: "One of only two square-shaped sovereign-state flags (the other being Vatican City).",
    vaticanFlag: "Vatican City",
    vaticanFlagDesc: "One of only two square-shaped sovereign-state flags (the other being Switzerland).",
    paraguayFlagDesc: "The only national flag with different emblems on its obverse (front) and reverse (back) sides.",
    denmarkFlagDesc: "Known as the Dannebrog, it is the oldest continuously used national flag in the world, dating back to 1219.",
    philippinesFlagDesc: "Uniquely, this flag is flown with the blue stripe up in times of peace and the red stripe up in times of war.",
    mozambiqueFlagDesc: "The only national flag in the world to feature a modern assault rifle, an AK-47, symbolizing defense and vigilance.",
    qatarFlagDesc: "With an aspect ratio of 11:28, it is the only national flag that is more than twice as wide as it is high.",
    symbolism: "Common Symbols",
    sunSymbol: "Sun",
    sunSymbolDesc: "Represents unity, life, and energy. Prominently featured on the flags of Japan and Argentina.",
    moonSymbol: "Moon / Crescent",
    moonSymbolDesc: "Often represents divinity and is a key symbol in many Muslim-majority nations like Turkey.",
    crossSymbol: "Cross",
    crossSymbolDesc: "A symbol of Christianity, central to the design of many European flags, especially in Scandinavia.",
    starsSymbol: "Stars",
    starsSymbolDesc: "Can represent states (USA), constellations (Brazil), or aspirations (China).",
    filterByColor: "Filter by Color",
    colorsTab: "Colors",
    flagFactsTitle: "Vexillology Vignettes",
    showAnotherFact: "Show another fact",
    flagFactsList: JSON.stringify([
      "The study of flags is called **vexillology**. The term was coined in 1957 by American scholar Whitney Smith.",
      "The flag of the Philippines is flown with the red stripe up in times of war and the blue stripe up in times of peace.",
      "The flag of Paraguay is unique because it has different emblems on its front (obverse) and back (reverse) sides.",
      "The only national flag that consisted of a single color was the flag of Libya from 1977 to 2011, which was solid green.",
      "The Union Jack of the United Kingdom is a combination of three flags: St. George's Cross (England), St. Andrew's Saltire (Scotland), and St. Patrick's Saltire (Ireland).",
      "The flag of Denmark, the Dannebrog, is the oldest continuously used national flag in the world, dating back to 1219.",
      "A white flag is an internationally recognized symbol of truce, ceasefire, and surrender.",
      "The flag of Mozambique is the only national flag to feature a modern assault rifle, an AK-47.",
      "The flag of **Austria** is one of the oldest national flags, with its design dating back to 1230. Legend says it represents the blood-stained tunic of Duke Leopold V after a battle.",
      "The flag of **Brazil** features a starry sky, but it's not random; it depicts the sky over Rio de Janeiro on November 15, 1889, the date the country became a republic.",
      "The flag of **Belize** is the only national flag to feature human beings. It depicts two men, a Mestizo and a Creole, under a mahogany tree.",
      "The flag of **Cyprus** features a map of the island, a design chosen to promote peace between its Greek and Turkish communities.",
      "The flag of **South Korea**, the Taegeukgi, has a central symbol representing the balance of the universe (yin and yang) and four trigrams from the I Ching.",
      "The **Vatican City** flag is one of only two square national flags. The keys of Saint Peter are a prominent feature.",
      "The flag of **Kiribati** depicts a frigatebird flying over a rising sun in the Pacific Ocean, symbolizing the nation's position and natural wealth.",
      "The flag of **Uganda** features a grey crowned crane, a gentle bird that is the country's national symbol.",
      "The flag of **Estonia**'s blue, black, and white colors represent the sky, the soil of the homeland, and the people's quest for light and happiness.",
      "The flag of **Spain** has its coat of arms offset from the center, a common feature for flags that are also used as naval ensigns.",
      "The flag of **Portugal**'s design was adopted after the 1910 revolution, replacing the royal blue and white with republican green and red.",
      "The flag of **Monaco** and the flag of **Indonesia** are nearly identical, differing only in their aspect ratios. Monaco's is 4:5, while Indonesia's is 2:3.",
      "The flag of **Romania** and the flag of **Chad** are also nearly identical, using the same blue, yellow, and red vertical stripes. Chad's blue is slightly darker.",
      "The term **'hoist'** refers to the half of the flag closest to the flagpole, while the **'fly'** is the half that flies in the wind.",
      "The flag of **St. Lucia** features a stylized image of the Pitons, two volcanic plugs that are the island's most famous landmark.",
      "The flag of **Grenada** is bordered by six stars representing the country's six parishes, with a central star for the capital, St. George's. It also features a nutmeg.",
      "The **Norwegian** flag is known as the 'Mother of Flags' because it contains the flags of Indonesia, Poland, Finland, France, the Netherlands, and Thailand within its design.",
      "The flag of **Lesotho** features a traditional Basotho hat, called a 'mokorotlo,' symbolizing the nation's indigenous heritage.",
      "The flag of **Cambodia** is the only current national flag to feature a building in its design: the famous Angkor Wat temple.",
      "The flag of **Kazakhstan** has a sky-blue background representing peace and unity, with a golden sun and a soaring steppe eagle.",
      "The flag of **Turkmenistan** is considered the most detailed national flag in the world, with an intricate carpet design along the hoist.",
      "The flag of **Malawi** was changed in 2010 to a full sun, but the original design with a rising sun was restored in 2012 due to public demand.",
      "The flag of the **Marshall Islands** has a diagonal stripe that widens, representing growth and vitality. The 24-pointed star represents the 24 municipalities.",
      "The **Pan-African colors** (red, yellow, green) were inspired by the flag of Ethiopia, one of the few African nations to resist colonization.",
      "The **Pan-Arab colors** (red, black, white, green) originate from the flag of the Arab Revolt against the Ottoman Empire in 1916.",
      "The flag of **Finland** is based on the Nordic cross design, with white for the snows of Finland and blue for its thousands of lakes.",
      "The flag of **Iceland**'s colors represent the three elements that created the country: red for volcanic fire, white for ice and snow, and blue for the ocean.",
      "The flag of **Georgia** (the country) features five crosses, a design known as the Jerusalem cross, which was readopted in 2004 after a 500-year hiatus.",
      "The flag of **Bolivia** features three horizontal stripes. The red represents the blood of heroes, yellow the nation's mineral wealth, and green its fertile lands.",
      "The flag of **Ecuador** is similar to Colombia's and Venezuela's, but it is unique among them for featuring a detailed coat of arms in the center.",
      "The flag of **Albania** features a black double-headed eagle, a symbol of the Byzantine Empire that was adopted by national hero Skanderbeg.",
      "The flag of **Saudi Arabia** features the Shahada (the Islamic creed) and a sword. It is one of the few flags that is never flown at half-mast.",
      "The flag of **Iran**'s central emblem is a stylized form of the word 'Allah.' The phrase 'Allahu Akbar' (God is Great) is written 22 times along the stripes.",
      "The flag of **India**'s central wheel, the Ashoka Chakra, is a 24-spoke wheel representing the eternal wheel of law and righteousness.",
      "The flag of **Sri Lanka** features a golden lion holding a sword, representing the bravery of the Sinhalese people.",
      "The flag of **Canada**'s famous maple leaf design was adopted in 1965, replacing the Canadian Red Ensign which featured the Union Jack.",
      "The flag of **South Africa** is one of the most colorful in the world, with six colors representing the various elements of the 'Rainbow Nation.'",
      "The flag of **North Macedonia** features a stylized yellow sun with eight rays, representing the 'new sun of Liberty.'",
      "The flag of **Argentina**'s 'Sun of May' emblem is a national symbol that also appears on the flag of Uruguay.",
      "The flag of **Uruguay** features nine horizontal stripes representing the original nine departments of the country.",
      "A flag flown upside down is a traditional signal of distress, although some countries' flags look the same either way.",
      "The flag of **Japan**, known as the Nisshōki or Hinomaru, has a simple design that makes it one of the most recognizable flags worldwide.",
      "The flag of the **United States** has had its design officially modified 26 times since 1777, most recently in 1960 when Hawaii became a state.",
      "The flag of **France**'s tricolor was a symbol of the French Revolution, combining the blue and red of Paris with the royal white of the Bourbon monarchy.",
      "The flag of **Germany**'s black, red, and gold colors were first associated with the democratic movements of the 19th century.",
      "The flag of **Greece** has nine stripes said to represent the nine syllables of the Greek motto 'Eleftheria i Thanatos' (Freedom or Death).",
      "The flag of **Hungary**'s red, white, and green tricolor has been a symbol of the nation since the 1848 revolution.",
      "The flag of **Ireland**'s green represents the Gaelic and Catholic traditions, orange the Protestant followers of William of Orange, and white the peace between them.",
      "The flag of **Latvia**'s dark red is sometimes called 'Latvian red' and is said to represent the blood of a wounded Latvian chief.",
      "The flag of **Lithuania**'s yellow represents the sun and prosperity, green the forests and nature, and red the blood shed for independence.",
      "The flag of **Luxembourg** and the flag of the **Netherlands** use the same red, white, and blue stripes, but Luxembourg's blue is a lighter shade.",
      "The flag of **Malta** features the George Cross, awarded to the entire island by King George VI of the United Kingdom for its bravery during World War II.",
      "The flag of **Poland**'s colors are derived from the national coat of arms, a white eagle on a red shield.",
      "The flag of **San Marino** is one of the world's oldest republics and its flag features a detailed coat of arms in the center.",
      "The flag of **Slovakia** incorporates the national coat of arms, which features a double cross on three hills.",
      "The flag of **Slovenia** also features its coat of arms, depicting Mount Triglav, Slovenia's highest peak.",
      "The flag of **Sweden**'s Nordic cross design is said to have been inspired by a golden cross seen in the blue sky by King Eric IX.",
      "The flag of **Switzerland**'s square shape is a rarity. Its Red Cross emblem is an inversion of the Swiss flag, honoring its founder.",
      "The flag of **Ukraine**'s blue and yellow colors symbolize the wide blue skies and golden wheat fields of the country.",
      "The flag of **Vietnam**'s golden star represents the five main classes in Vietnamese society: intellectuals, farmers, workers, businesspeople, and soldiers.",
      "The flag of **Botswana** has a light blue field representing water, a precious resource in the Kalahari Desert.",
      "The flag of **Burundi** features a saltire (diagonal cross) and three stars representing the national motto: 'Unité, Travail, Progrès' (Unity, Work, Progress).",
      "The flag of **Eritrea** features an olive wreath, a symbol taken from its first national flag from 1952, symbolizing peace.",
      "The flag of **Gambia**'s central blue stripe represents the Gambia River, which flows through the heart of the nation.",
      "The flag of **Kenya**'s central shield and spears are traditional Maasai symbols of defense and freedom.",
      "The flag of **Mauritius** is one of the few national flags to use four horizontal stripes of different colors.",
      "The flag of **Seychelles** features five oblique bands of color radiating from the bottom hoist corner, symbolizing a dynamic new country moving into the future.",
      "The flag of **Sierra Leone**'s green represents agriculture, white for unity and justice, and blue for the natural harbor of Freetown.",
      "The flag of **Tanzania** was created by combining the flags of the two states that merged to form it: Tanganyika and Zanzibar.",
      "The flag of **Zambia** is unique in that its main symbols (an eagle and three vertical stripes) are located on the fly end, not the hoist.",
      "The flag of **Zimbabwe** features the Zimbabwe Bird, a national symbol found at the Great Zimbabwe ruins.",
      "The flag of **Bahrain** has five white points on its serrated edge, representing the Five Pillars of Islam.",
      "The flag of **Iraq**'s inscription reads 'Allahu Akbar' (God is Great) in Kufic script.",
      "The flag of **Israel**'s design is based on the Tallit, the Jewish prayer shawl.",
      "The flag of **Kuwait**'s colors are from a poem by Safi Al-Din Al-Hilli: 'White are our deeds, black are our battles, green are our lands, and red are our swords.'",
      "The flag of **Lebanon** features a green Cedar of Lebanon, a symbol of holiness, eternity, and peace.",
      "The flag of **Oman**'s national emblem in the canton consists of a khanjar (dagger) and two crossed swords.",
      "The flag of **Palestine** uses the Pan-Arab colors and is nearly identical to the flag of the Ba'ath Party and similar to Jordan's and Western Sahara's.",
      "The flag of **Syria** and **Yemen** use the same horizontal red, white, and black stripes, but Syria's has two green stars.",
      "The flag of the **United Arab Emirates** also uses Pan-Arab colors, but in a unique vertical and horizontal arrangement.",
      "The flag of **Bangladesh**'s red circle is slightly offset towards the hoist so that it appears centered when the flag is flying.",
      "The flag of **Brunei** features a parallelogram-shaped yellow field with black and white stripes and a central crest.",
      "The flag of **Malaysia**, 'Jalur Gemilang,' has 14 stripes and a 14-point star representing the 13 member states and the federal government.",
      "The flag of **Maldives** features a green rectangle and a white crescent moon, symbolizing Islam and peace.",
      "The flag of **Myanmar** was adopted in 2010, replacing a socialist-era flag. The new design uses yellow, green, and red stripes with a white star.",
      "The flag of **Pakistan** is known as the 'Flag of the Crescent and Star.' The white stripe represents religious minorities.",
      "The flag of **Singapore**'s five stars represent the national ideals of democracy, peace, progress, justice, and equality.",
      "The flag of **Timor-Leste** (East Timor) has a unique design with two overlapping triangles and a white star.",
      "The flag of **Tonga** features a red cross in the canton, symbolizing Christianity. It is one of the oldest flags in Oceania.",
      "The flag of **Tuvalu**'s nine stars represent the nine islands that comprise the nation.",
      "The flag of **Vanuatu** features a boar's tusk, a symbol of prosperity, and two leaves of the local namele fern, a symbol of peace.",
      "The flag of the **Dominican Republic** is one of the few national flags to feature a bible in its coat of arms.",
      "The flag of **Haiti**'s design originated from the French tricolor, with the white stripe removed to symbolize the expulsion of the French colonizers.",
      "The flag of **Nicaragua**'s coat of arms features a rainbow, a rare symbol on national flags, representing peace.",
      "The flag of **Panama** was designed by the son of the first president and represents the two main political parties (Liberals and Conservatives) and the peace between them.",
      "The flag of **Peru**'s red and white colors are said to have been chosen by José de San Martín after seeing a flock of flamingos.",
      "The **Union Jack** is only officially called the Union Jack when flown at sea; on land, it is technically the Union Flag.",
      "The study of flags is called **vexillography** when it concerns the art and practice of designing flags.",
      "The world's largest flag, according to Guinness World Records, was a Romanian flag measuring 349 x 227 meters.",
      "The flag of **Liechtenstein** was discovered to be identical to the flag of Haiti at the 1936 Summer Olympics, prompting Liechtenstein to add a crown to their flag.",
      "The flag of **Qatar**'s maroon color, known as 'Qatar maroon,' was originally red but turned darker due to the sun and local dyes. The country officially adopted the maroon shade.",
      "The flag of the **Central African Republic** combines the French tricolor (blue, white, red) with Pan-African colors (green, yellow, red) to symbolize the bond between Europe and Africa.",
      "The flag of **Djibouti**'s green represents the earth, blue the sea and sky, white for peace, and the red star symbolizes the struggle for independence.",
      "The flag of **Fiji** features the Union Jack in its canton and a shield with national symbols, including a dove of peace, sugarcane, bananas, and a coconut palm.",
      "The national flag of **Thailand** is called the 'Thong Trairong,' meaning tricolor flag. The central blue stripe represents the monarchy.",
      "The flag of **Togo** was designed by an artist and has five stripes representing the country's five regions."
    ])
  },
  pt: {
    title: "Explorador de Bandeiras do Mundo",
    headerTitle: "Bandeiras do Mundo",
    explorer: "Explorador",
    exploreTitle: "Bandeira do Dia",
    exploreSubtitle: "Descubra as histórias, símbolos e cores por trás das bandeiras das nações. Use os filtros abaixo para navegar pela rica tapeçaria da heráldica global.",
    searchPlaceholder: "Pesquisar por nome do país...",
    fetchError: "Falha ao buscar dados dos países. Por favor, tente novamente mais tarde.",
    errorOops: "Opa! Algo deu errado.",
    noResults: "Nenhuma bandeira corresponde aos seus critérios de pesquisa.",
    noFlagsFound: "Nenhuma Bandeira Encontrada",
    noFlagsFoundDescription: "Tente ajustar sua busca ou filtro para encontrar o que procura.",
    viewDetailsFor: "Ver detalhes de {{countryName}}",
    closeModal: "Fechar modal",
    continents: "Continente(s)",
    capital: "Capital",
    population: "População",
    area: "Área",
    areaUnit: "km²",
    coatOfArms: "Brasão de Armas",
    viewOnMap: "Ver no Google Maps",
    goToTop: "Ir para o topo",
    footerRights: `© ${new Date().getFullYear()} Explorador de Bandeiras do Mundo. Todos os direitos reservados.`,
    footerBuiltWith: "Construído com React & Tailwind CSS | Dados da API REST Countries",
    showingFlags: "Mostrando {{count}} de {{total}} bandeiras",
    loadingFlags: "Carregando bandeiras de todo o mundo...",
    startQuiz: "Iniciar Quiz",
    quizTitle: "Quiz",
    questionOf: "Questão {{current}} de {{total}}",
    whichCountry: "De que país é esta bandeira?",
    whichFlag: "Qual bandeira pertence a {{country}}?",
    nextQuestion: "Próxima Pergunta",
    quizResults: "Resultados do Quiz",
    yourScore: "Você acertou {{score}} de {{total}}",
    playAgain: "Jogar Novamente",
    backToExplorer: "Voltar ao Explorador",
    scoreFeedbackExcellent: "Excelente! Você é um expert em bandeiras!",
    scoreFeedbackGood: "Bom trabalho! Você conhece bem as bandeiras.",
    scoreFeedbackAverage: "Nada mal! Com um pouco mais de prática você será um expert.",
    scoreFeedbackPoor: "Continue praticando! O mundo das bandeiras é fascinante.",
    discoverTitle: "Descubra",
    discoverLoading: "Criando uma nova coleção para você...",
    flagOfTheDay: "Bandeira do Dia",
    flagOfTheDayLoading: "Selecionando a bandeira em destaque de hoje...",
    filterAndSearch: "Filtrar e Pesquisar",
    filterByContinent: "Filtrar por Continente",
    quizSetupTitle: "Configuração do Quiz",
    chooseMode: "Escolha um Modo de Jogo",
    selectDifficulty: "Selecione a Dificuldade",
    difficultyEasy: "Fácil",
    difficultyMedium: "Médio",
    difficultyHard: "Difícil",
    difficultyEasyDesc: "Países mais populosos.",
    difficultyMediumDesc: "Uma mistura de todos os países.",
    difficultyHardDesc: "Países menos conhecidos.",
    modeFlagToCountry: "Bandeira ➞ País",
    modeFlagToCountryDesc: "Adivinhe o país pela bandeira.",
    modeCountryToFlag: "País ➞ Bandeira",
    modeCountryToFlagDesc: "Encontre a bandeira correta para o país.",
    modeFlagToCapital: "Bandeira ➞ Capital",
    modeFlagToCapitalDesc: "Identifique a capital pela bandeira.",
    modeCountryToCapital: "País ➞ Capital",
    modeCountryToCapitalDesc: "Adivinhe a capital do país.",
    whichCapitalForCountry: "Qual é a capital de {{country}}?",
    modeShapeToCountry: "Brasão ➞ País",
    modeShapeToCountryDesc: "Reconheça o país pelo seu brasão de armas.",
    whichCapital: "A qual cidade capital esta bandeira pertence?",
    whichCoatOfArms: "De que país é este brasão de armas?",
    backToMenu: "Voltar ao Menu",
    quizTime: "Tempo Total",
    quizAvgTime: "Tempo Médio / Q",
    quizSeconds: "{{seconds}}s",
    compareMode: "Modo de Comparação",
    compareModeTooltip: "Ative para selecionar duas bandeiras para comparação",
    exitCompareMode: "Sair do Modo de Comparação",
    selectForComparison: "Selecionar {{countryName}} para comparação",
    compareFlags: "Comparar ({{count}}/2)",
    clearSelection: "Limpar",
    comparisonTitle: "Comparação de Bandeiras",
    favorites: "Favoritos",
    noFavorites: "Nenhum favorito ainda!",
    noFavoritesDescription: "Clique no coração em qualquer bandeira para adicioná-la à sua coleção.",
    addToFavorites: "Adicionar aos favoritos",
    removeFromFavorites: "Remover dos favoritos",
    addedToFavoritesToast: "{{countryName}} adicionado aos favoritos!",
    removedFromFavoritesToast: "{{countryName}} removido dos favoritos.",
    toggleTheme: "Alternar tema",
    continentTab: "Continentes",
    toolsTab: "Ferramentas",
    quizStreak: "🔥 Sequência de {{count}}",
    quizHint: "Dica (restam {{count}})",
    quizNoHints: "Nenhuma dica restante",
    quizReviewAnswers: "Rever Respostas",
    quizBackToSummary: "Voltar ao Resumo",
    quizReviewTitle: "Revisão do Quiz",
    quizYourAnswer: "Sua resposta:",
    quizCorrectAnswer: "Resposta correta:",
    continentHint: "Dica: O país fica em {{continent}}.",
    quizBestStreak: "Melhor Sequência",
    quizAccuracy: "Precisão",
    quizRank: "Sua Classificação",
    rankNovice: "Iniciante em Bandeiras",
    rankApprentice: "Aprendiz de Bandeiras",
    rankAdept: "Adepto em Vexilologia",
    rankExpert: "Expert em Bandeiras",
    rankMaster: "Gênio da Geografia",
    quiz5050Hint: "50:50 (restam {{count}})",
    quizNo5050Hints: "Nenhuma 50:50 restante",
    quizCorrect: "Corretas",
    quizIncorrect: "Incorretas",
    sortBy: "Ordenar por",
    sortNameAsc: "Nome (A-Z)",
    sortNameDesc: "Nome (Z-A)",
    sortPopAsc: "População (Baixa-Alta)",
    sortPopDesc: "População (Alta-Baixa)",
    sortAreaAsc: "Área (Baixa-Alta)",
    sortAreaDesc: "Área (Alta-Baixa)",
    selectACountry: "Selecione um País",
    discoverIntro: "Mergulhe fundo no mundo da vexilologia. Explore temas comuns, designs únicos e o rico simbolismo presente nas bandeiras do mundo.",
    uniqueFlags: "Bandeiras Únicas",
    uniqueFlagOfTheDayTitle: "Bandeira Única do Dia",
    nepalFlag: "Nepal",
    nepalFlagDesc: "A única bandeira nacional não quadrilateral do mundo.",
    switzerlandFlag: "Suíça",
    switzerlandFlagDesc: "Uma das duas únicas bandeiras de estados soberanos com formato quadrado (a outra é a do Vaticano).",
    vaticanFlag: "Cidade do Vaticano",
    vaticanFlagDesc: "Uma das duas únicas bandeiras de estados soberanos com formato quadrado (a outra é a da Suíça).",
    paraguayFlagDesc: "A única bandeira nacional com emblemas diferentes no anverso (frente) e no reverso (verso).",
    denmarkFlagDesc: "Conhecida como Dannebrog, é a bandeira nacional mais antiga em uso contínuo no mundo, datando de 1219.",
    philippinesFlagDesc: "De forma única, esta bandeira é hasteada com a faixa azul para cima em tempos de paz e a faixa vermelha para cima em tempos de guerra.",
    mozambiqueFlagDesc: "A única bandeira nacional do mundo a apresentar um fuzil de assalto moderno, um AK-47, simbolizando defesa e vigilância.",
    qatarFlagDesc: "Com uma proporção de 11:28, é a única bandeira nacional que tem mais que o dobro da largura em relação à altura.",
    symbolism: "Símbolos Comuns",
    sunSymbol: "Sol",
    sunSymbolDesc: "Representa unidade, vida e energia. Destaca-se nas bandeiras do Japão e da Argentina.",
    moonSymbol: "Lua / Crescente",
    moonSymbolDesc: "Frequentemente representa divindade e é um símbolo chave em muitas nações de maioria muçulmana como a Turquia.",
    crossSymbol: "Cruz",
    crossSymbolDesc: "Um símbolo do Cristianismo, central no design de muitas bandeiras europeias, especialmente na Escandinávia.",
    starsSymbol: "Estrelas",
    starsSymbolDesc: "Podem representar estados (EUA), constelações (Brasil) ou aspirações (China).",
    filterByColor: "Filtrar por Cor",
    colorsTab: "Cores",
    flagFactsTitle: "Vignetas de Vexilologia",
    showAnotherFact: "Mostrar outro fato",
    flagFactsList: JSON.stringify([
      "O estudo das bandeiras é chamado de **vexilologia**. O termo foi cunhado em 1957 pelo estudioso americano Whitney Smith.",
      "A bandeira das Filipinas é hasteada com a faixa vermelha para cima em tempos de guerra e a faixa azul para cima em tempos de paz.",
      "A bandeira do Paraguai é única porque tem emblemas diferentes na frente (anverso) e no verso (reverso).",
      "A única bandeira nacional que consistiu em uma única cor foi a da Líbia de 1977 a 2011, que era inteiramente verde.",
      "A Union Jack do Reino Unido é uma combinação de três bandeiras: a Cruz de São Jorge (Inglaterra), o Sautor de Santo André (Escócia) e o Sautor de São Patrício (Irlanda).",
      "A bandeira da Dinamarca, a Dannebrog, é a bandeira nacional em uso contínuo mais antiga do mundo, datando de 1219.",
      "Uma bandeira branca é um símbolo internacionalmente reconhecido de trégua, cessar-fogo e rendição.",
      "A bandeira de Moçambique é a única bandeira nacional a apresentar um fuzil de assalto moderno, um AK-47.",
      "A bandeira da **Áustria** é uma das mais antigas bandeiras nacionais, com seu design datando de 1230. A lenda diz que representa a túnica manchada de sangue do Duque Leopoldo V após uma batalha.",
      "A bandeira do **Brasil** apresenta um céu estrelado, mas não é aleatório; ela retrata o céu sobre o Rio de Janeiro em 15 de novembro de 1889, data em que o país se tornou uma república.",
      "A bandeira de **Belize** é a única bandeira nacional a apresentar seres humanos. Ela retrata dois homens, um Mestiço e um Crioulo, sob uma árvore de mogno.",
      "A bandeira de **Chipre** apresenta um mapa da ilha, um design escolhido para promover a paz entre suas comunidades grega e turca.",
      "A bandeira da **Coreia do Sul**, a Taegeukgi, tem um símbolo central que representa o equilíbrio do universo (yin e yang) e quatro trigramas do I Ching.",
      "A bandeira da **Cidade do Vaticano** é uma das duas únicas bandeiras nacionais quadradas. As chaves de São Pedro são uma característica proeminente.",
      "A bandeira de **Kiribati** retrata uma fragata voando sobre um sol nascente no Oceano Pacífico, simbolizando a posição e a riqueza natural da nação.",
      "A bandeira de **Uganda** apresenta um grou-coroado-cinzento, uma ave gentil que é o símbolo nacional do país.",
      "As cores azul, preto e branco da bandeira da **Estônia** representam o céu, o solo da pátria e a busca do povo por luz e felicidade.",
      "A bandeira da **Espanha** tem seu brasão de armas deslocado do centro, uma característica comum em bandeiras que também são usadas como pavilhões navais.",
      "O design da bandeira de **Portugal** foi adotado após a revolução de 1910, substituindo o azul e branco real pelo verde e vermelho republicanos.",
      "A bandeira de **Mônaco** e a bandeira da **Indonésia** são quase idênticas, diferindo apenas em suas proporções. A de Mônaco é 4:5, enquanto a da Indonésia é 2:3.",
      "A bandeira da **Romênia** e a bandeira do **Chade** também são quase idênticas, usando as mesmas listras verticais azuis, amarelas e vermelhas. O azul do Chade é um pouco mais escuro.",
      "O termo **'tralha'** refere-se à metade da bandeira mais próxima do mastro, enquanto o **'batente'** é a metade que voa ao vento.",
      "A bandeira de **Santa Lúcia** apresenta uma imagem estilizada dos Pitons, duas chaminés vulcânicas que são o marco mais famoso da ilha.",
      "A bandeira de **Granada** é contornada por seis estrelas que representam as seis paróquias do país, com uma estrela central para a capital, St. George's. Ela também apresenta uma noz-moscada.",
      "A bandeira da **Noruega** é conhecida como a 'Mãe das Bandeiras' porque contém as bandeiras da Indonésia, Polônia, Finlândia, França, Países Baixos e Tailândia em seu design.",
      "A bandeira do **Lesoto** apresenta um chapéu tradicional Basotho, chamado 'mokorotlo,' simbolizando a herança indígena da nação.",
      "A bandeira do **Camboja** é a única bandeira nacional atual a apresentar um edifício em seu design: o famoso templo de Angkor Wat.",
      "A bandeira do **Cazaquistão** tem um fundo azul-celeste que representa paz e unidade, com um sol dourado e uma águia-da-estepe em voo.",
      "A bandeira do **Turcomenistão** é considerada a bandeira nacional mais detalhada do mundo, com um intrincado design de tapete ao longo da tralha.",
      "A bandeira do **Malawi** foi alterada em 2010 para um sol pleno, mas o design original com um sol nascente foi restaurado em 2012 devido à demanda popular.",
      "A bandeira das **Ilhas Marshall** tem uma faixa diagonal que se alarga, representando crescimento e vitalidade. A estrela de 24 pontas representa os 24 municípios.",
      "As **cores pan-africanas** (vermelho, amarelo, verde) foram inspiradas na bandeira da Etiópia, uma das poucas nações africanas a resistir à colonização.",
      "As **cores pan-árabes** (vermelho, preto, branco, verde) originam-se da bandeira da Revolta Árabe contra o Império Otomano em 1916.",
      "A bandeira da **Finlândia** é baseada no design da cruz nórdica, com branco para as neves da Finlândia e azul para seus milhares de lagos.",
      "As cores da bandeira da **Islândia** representam os três elementos que criaram o país: vermelho para o fogo vulcânico, branco para o gelo e a neve, e azul para o oceano.",
      "A bandeira da **Geórgia** (o país) apresenta cinco cruzes, um design conhecido como a cruz de Jerusalém, que foi readotado em 2004 após um hiato de 500 anos.",
      "A bandeira da **Bolívia** apresenta três faixas horizontais. O vermelho representa o sangue dos heróis, o amarelo a riqueza mineral da nação, e o verde suas terras férteis.",
      "A bandeira do **Equador** é semelhante à da Colômbia e da Venezuela, mas é única entre elas por apresentar um detalhado brasão de armas no centro.",
      "A bandeira da **Albânia** apresenta uma águia negra de duas cabeças, um símbolo do Império Bizantino que foi adotado pelo herói nacional Skanderbeg.",
      "A bandeira da **Arábia Saudita** apresenta a Shahada (o credo islâmico) e uma espada. É uma das poucas bandeiras que nunca é hasteada a meio-mastro.",
      "O emblema central da bandeira do **Irã** é uma forma estilizada da palavra 'Allah'. A frase 'Allahu Akbar' (Deus é Grande) está escrita 22 vezes ao longo das faixas.",
      "A roda central da bandeira da **Índia**, o Ashoka Chakra, é uma roda de 24 raios que representa a eterna roda da lei e da retidão.",
      "A bandeira do **Sri Lanka** apresenta um leão dourado segurando uma espada, representando a bravura do povo cingalês.",
      "O famoso design da folha de bordo da bandeira do **Canadá** foi adotado em 1965, substituindo a Bandeira Vermelha Canadense que apresentava a Union Jack.",
      "A bandeira da **África do Sul** é uma das mais coloridas do mundo, com seis cores que representam os vários elementos da 'Nação Arco-Íris'.",
      "A bandeira da **Macedônia do Norte** apresenta um sol amarelo estilizado com oito raios, representando o 'novo sol da Liberdade'.",
      "O emblema 'Sol de Maio' da bandeira da **Argentina** é um símbolo nacional que também aparece na bandeira do Uruguai.",
      "A bandeira do **Uruguai** apresenta nove faixas horizontais que representam os nove departamentos originais do país.",
      "Uma bandeira hasteada de cabeça para baixo é um sinal tradicional de perigo, embora algumas bandeiras de países pareçam iguais de qualquer maneira.",
      "A bandeira do **Japão**, conhecida como Nisshōki ou Hinomaru, tem um design simples que a torna uma das bandeiras mais reconhecíveis do mundo.",
      "O design da bandeira dos **Estados Unidos** foi modificado oficialmente 26 vezes desde 1777, mais recentemente em 1960, quando o Havaí se tornou um estado.",
      "O tricolor da bandeira da **França** foi um símbolo da Revolução Francesa, combinando o azul e o vermelho de Paris com o branco real da monarquia Bourbon.",
      "As cores preto, vermelho e dourado da bandeira da **Alemanha** foram associadas pela primeira vez aos movimentos democráticos do século XIX.",
      "As nove listras da bandeira da **Grécia** dizem representar as nove sílabas do lema grego 'Eleftheria i Thanatos' (Liberdade ou Morte).",
      "O tricolor vermelho, branco e verde da bandeira da **Hungria** é um símbolo da nação desde a revolução de 1848.",
      "O verde da bandeira da **Irlanda** representa as tradições gaélicas e católicas, o laranja os seguidores protestantes de Guilherme de Orange e o branco a paz entre eles.",
      "O vermelho escuro da bandeira da **Letônia** é por vezes chamado de 'vermelho letão' e diz-se que representa o sangue de um chefe letão ferido.",
      "O amarelo da bandeira da **Lituânia** representa o sol e a prosperidade, o verde as florestas e a natureza, e o vermelho o sangue derramado pela independência.",
      "A bandeira de **Luxemburgo** e a bandeira dos **Países Baixos** usam as mesmas listras vermelhas, brancas e azuis, mas o azul de Luxemburgo é um tom mais claro.",
      "A bandeira de **Malta** apresenta a Cruz de Jorge, concedida a toda a ilha pelo Rei George VI do Reino Unido por sua bravura durante a Segunda Guerra Mundial.",
      "As cores da bandeira da **Polônia** são derivadas do brasão de armas nacional, uma águia branca sobre um escudo vermelho.",
      "A bandeira de **San Marino** é de uma das repúblicas mais antigas do mundo e apresenta um detalhado brasão de armas no centro.",
      "A bandeira da **Eslováquia** incorpora o brasão de armas nacional, que apresenta uma cruz dupla sobre três colinas.",
      "A bandeira da **Eslovênia** também apresenta seu brasão de armas, retratando o Monte Triglav, o pico mais alto da Eslovênia.",
      "Diz-se que o design da cruz nórdica da bandeira da **Suécia** foi inspirado por uma cruz dourada vista no céu azul pelo Rei Eric IX.",
      "A forma quadrada da bandeira da **Suíça** é uma raridade. O emblema da Cruz Vermelha é uma inversão da bandeira suíça, em homenagem ao seu fundador.",
      "As cores azul e amarelo da bandeira da **Ucrânia** simbolizam os vastos céus azuis e os campos de trigo dourados do país.",
      "A estrela dourada da bandeira do **Vietnã** representa as cinco classes principais da sociedade vietnamita: intelectuais, agricultores, trabalhadores, empresários e soldados.",
      "A bandeira de **Botsuana** tem um campo azul claro que representa a água, um recurso precioso no Deserto do Kalahari.",
      "A bandeira do **Burundi** apresenta uma aspa (cruz diagonal) e três estrelas que representam o lema nacional: 'Unité, Travail, Progrès' (Unidade, Trabalho, Progresso).",
      "A bandeira da **Eritreia** apresenta uma coroa de oliveira, um símbolo retirado de sua primeira bandeira nacional de 1952, simbolizando a paz.",
      "A faixa azul central da bandeira da **Gâmbia** representa o Rio Gâmbia, que atravessa o coração da nação.",
      "O escudo e as lanças centrais da bandeira do **Quênia** são símbolos tradicionais Maasai de defesa e liberdade.",
      "A bandeira de **Maurício** é uma das poucas bandeiras nacionais a usar quatro faixas horizontais de cores diferentes.",
      "A bandeira de **Seicheles** apresenta cinco faixas oblíquas de cor que irradiam do canto inferior da tralha, simbolizando um novo país dinâmico movendo-se para o futuro.",
      "O verde da bandeira de **Serra Leoa** representa a agricultura, o branco a unidade e a justiça, e o azul o porto natural de Freetown.",
      "A bandeira da **Tanzânia** foi criada pela combinação das bandeiras dos dois estados que se fundiram para formá-la: Tanganica e Zanzibar.",
      "A bandeira da **Zâmbia** é única porque seus símbolos principais (uma águia e três faixas verticais) estão localizados na extremidade do batente, não na tralha.",
      "A bandeira do **Zimbábue** apresenta o Pássaro do Zimbábue, um símbolo nacional encontrado nas ruínas do Grande Zimbábue.",
      "A bandeira do **Bahrein** tem cinco pontas brancas em sua borda serrilhada, representando os Cinco Pilares do Islã.",
      "A inscrição na bandeira do **Iraque** diz 'Allahu Akbar' (Deus é Grande) em escrita cúfica.",
      "O design da bandeira de **Israel** é baseado no Talit, o xale de oração judaico.",
      "As cores da bandeira do **Kuwait** vêm de um poema de Safi Al-Din Al-Hilli: 'Brancos são nossos atos, negras são nossas batalhas, verdes são nossas terras e vermelhas são nossas espadas.'",
      "A bandeira do **Líbano** apresenta um Cedro do Líbano verde, um símbolo de santidade, eternidade e paz.",
      "O emblema nacional de **Omã** no cantão consiste em um khanjar (punhal) e duas espadas cruzadas.",
      "A bandeira da **Palestina** usa as cores pan-árabes e é quase idêntica à bandeira do Partido Ba'ath e semelhante às da Jordânia e do Saara Ocidental.",
      "A bandeira da **Síria** e do **Iêmen** usam as mesmas faixas horizontais vermelhas, brancas e pretas, mas a da Síria tem duas estrelas verdes.",
      "A bandeira dos **Emirados Árabes Unidos** também usa cores pan-árabes, mas em um arranjo vertical e horizontal único.",
      "O círculo vermelho da bandeira de **Bangladesh** está ligeiramente deslocado em direção à tralha para que pareça centralizado quando a bandeira está voando.",
      "A bandeira do **Brunei** apresenta um campo amarelo em forma de paralelogramo com faixas pretas e brancas e um brasão central.",
      "A bandeira da **Malásia**, 'Jalur Gemilang', tem 14 listras e uma estrela de 14 pontas representando os 13 estados membros e o governo federal.",
      "A bandeira das **Maldivas** apresenta um retângulo verde e uma lua crescente branca, simbolizando o Islã e a paz.",
      "A bandeira de **Mianmar** foi adotada em 2010, substituindo uma bandeira da era socialista. O novo design usa listras amarelas, verdes e vermelhas com uma estrela branca.",
      "A bandeira do **Paquistão** é conhecida como a 'Bandeira do Crescente e da Estrela'. A faixa branca representa as minorias religiosas.",
      "As cinco estrelas da bandeira de **Singapura** representam os ideais nacionais de democracia, paz, progresso, justiça e igualdade.",
      "A bandeira de **Timor-Leste** tem um design único com dois triângulos sobrepostos e uma estrela branca.",
      "A bandeira de **Tonga** apresenta uma cruz vermelha no cantão, simbolizando o Cristianismo. É uma das bandeiras mais antigas da Oceania.",
      "As nove estrelas da bandeira de **Tuvalu** representam as nove ilhas que compõem a nação.",
      "A bandeira de **Vanuatu** apresenta a presa de um javali, um símbolo de prosperidade, e duas folhas da samambaia local namele, um símbolo de paz.",
      "A bandeira da **República Dominicana** é uma das poucas bandeiras nacionais a apresentar uma bíblia em seu brasão de armas.",
      "O design da bandeira do **Haiti** originou-se do tricolor francês, com a faixa branca removida para simbolizar a expulsão dos colonizadores franceses.",
      "O brasão de armas da bandeira da **Nicarágua** apresenta um arco-íris, um símbolo raro em bandeiras nacionais, representando a paz.",
      "A bandeira do **Panamá** foi projetada pelo filho do primeiro presidente e representa os dois principais partidos políticos (Liberais e Conservadores) e a paz entre eles.",
      "Diz-se que as cores vermelha e branca da bandeira do **Peru** foram escolhidas por José de San Martín depois de ver um bando de flamingos.",
      "A **Union Jack** só é oficialmente chamada de Union Jack quando hasteada no mar; em terra, é tecnicamente a Union Flag.",
      "O estudo de bandeiras é chamado de **vexilografia** quando se refere à arte e prática de desenhar bandeiras.",
      "A maior bandeira do mundo, segundo o Guinness World Records, foi uma bandeira romena medindo 349 x 227 metros.",
      "A bandeira de **Liechtenstein** foi descoberta como idêntica à bandeira do Haiti nas Olimpíadas de Verão de 1936, o que levou Liechtenstein a adicionar uma coroa à sua bandeira.",
      "A cor marrom da bandeira do **Catar**, conhecida como 'marrom do Catar', era originalmente vermelha, mas escureceu devido ao sol e a corantes locais. O país adotou oficialmente o tom marrom.",
      "A bandeira da **República Centro-Africana** combina o tricolor francês (azul, branco, vermelho) com as cores pan-africanas (verde, amarelo, vermelho) para simbolizar o vínculo entre Europa e África.",
      "O verde da bandeira do **Djibuti** representa a terra, o azul o mar e o céu, o branco a paz, e a estrela vermelha simboliza a luta pela independência.",
      "A bandeira de **Fiji** apresenta a Union Jack em seu cantão e um escudo com símbolos nacionais, incluindo uma pomba da paz, cana-de-açúcar, bananas e um coqueiro.",
      "A bandeira nacional da **Tailândia** é chamada de 'Thong Trairong', que significa bandeira tricolor. A faixa azul central representa a monarquia.",
      "A bandeira do **Togo** foi desenhada por um artista e tem cinco faixas que representam as cinco regiões do país."
    ])
  }
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: ReactNode }> = ({ children }) => {
    const [language, setLanguageState] = useState<Language>(() => {
        const savedLang = localStorage.getItem('language') as Language;
        return savedLang || 'en';
    });

    const setLanguage = (lang: Language) => {
        localStorage.setItem('language', lang);
        setLanguageState(lang);
    };

    const t = useCallback((key: string, replacements?: { [key: string]: string }) => {
        let translation = translations[language][key] || key;
        if (replacements) {
            Object.keys(replacements).forEach(placeholder => {
                translation = translation.replace(`{{${placeholder}}}`, replacements[placeholder]);
            });
        }
        return translation;
    }, [language]);
    
    useEffect(() => {
        document.documentElement.lang = language;
        document.title = t('title');
    }, [language, t]);

    return (
        <LanguageContext.Provider value={{ language, setLanguage, t }}>
            {children}
        </LanguageContext.Provider>
    );
};

export const useLanguage = (): LanguageContextType => {
    const context = useContext(LanguageContext);
    if (!context) {
        throw new Error('useLanguage must be used within a LanguageProvider');
    }
    return context;
};